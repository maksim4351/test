# Настройка сервера обратной связи

## Установка зависимостей

1. Установите Node.js (если еще не установлен): https://nodejs.org/
2. Откройте терминал в папке проекта
3. Выполните команду:
```bash
npm install
```

## Настройка Gmail для отправки писем

### Шаг 1: Включение двухфакторной аутентификации
1. Перейдите в настройки Google аккаунта
2. Включите двухфакторную аутентификацию

### Шаг 2: Создание пароля приложения
1. В настройках безопасности найдите "Пароли приложений"
2. Создайте новый пароль для приложения
3. Выберите "Другое (пользовательское имя)" и назовите его "Screen Test Website"
4. Скопируйте сгенерированный пароль (16 символов)

### Шаг 3: Настройка переменной окружения
1. Скопируйте файл `env.example` в `.env`:
```bash
cp env.example .env
```
2. Откройте файл `.env` и замените `your_app_password_here` на ваш пароль приложения:
```
EMAIL_PASSWORD=ваш_пароль_приложения_здесь
```

## Запуск сервера

### Для разработки:
```bash
npm run dev
```

### Для продакшена:
```bash
npm start
```

Сервер будет доступен по адресу: http://localhost:3000

## Безопасность

- Ваш email адрес (mst14459@gmail.com) НЕ будет виден посетителям сайта
- Письма будут приходить только вам
- Пользователи получат автоматическое подтверждение на свой email
- Все файлы автоматически удаляются после отправки
- Файл `.env` с паролем не попадет в git репозиторий

## Структура писем

### Письмо вам:
- Тема: "Feedback from [email пользователя]"
- Содержит: сообщение пользователя, информацию о его экране, прикрепленный файл (если есть)

### Письмо пользователю:
- Тема: "Thank you for your feedback!"
- Содержит: подтверждение получения и копию его сообщения

## Поддерживаемые типы файлов
- Изображения: jpg, jpeg, png, gif
- Документы: pdf, txt, doc, docx
- Максимальный размер: 5MB

## Устранение неполадок

### Ошибка "Invalid login"
- Убедитесь, что включена двухфакторная аутентификация
- Используйте пароль приложения, а не пароль от аккаунта
- Проверьте правильность email адреса

### Ошибка "File too large"
- Убедитесь, что размер файла не превышает 5MB
- Сожмите изображение или выберите другой файл

### Сервер не запускается
- Проверьте, что Node.js установлен: `node --version`
- Убедитесь, что все зависимости установлены: `npm install`
- Проверьте, что порт 3000 не занят другим приложением 